<div class="add-rendezvous-container">
  <h2>{{ isEditMode ? 'Edit RendezVous' : 'Add RendezVous' }}</h2>
  <form [formGroup]="rendezVousForm" (ngSubmit)="onSubmit()">
    
    <div>
      <label for="heure">Heure</label>
      <input id="heure" formControlName="heure" type="time" />
      <div *ngIf="rendezVousForm.get('heure')?.invalid && rendezVousForm.get('heure')?.touched">
        Heure is required.
      </div>
    </div>

    <div>
      <label for="date">Date</label>
      <input type="date" id="date" formControlName="date" />
      <div *ngIf="rendezVousForm.get('date')?.invalid && rendezVousForm.get('date')?.touched">
        Date is required.
      </div>
    </div>

    <div>
      <label for="lieu">Lieu</label>
      <input id="lieu" formControlName="lieu" />
      <div *ngIf="rendezVousForm.get('lieu')?.invalid && rendezVousForm.get('lieu')?.touched">
        Lieu is required.
      </div>
    </div>

    <div>
      <label for="statutRendezVous">Statut RendezVous</label>
      <select id="statutRendezVous" formControlName="statutRendezVous">
        <option value="" disabled>Select the status</option>
        <option value="fini">fini</option>
        <option value="EnCours">EnCours</option>
      </select>
      <div *ngIf="rendezVousForm.get('statutRendezVous')?.invalid && rendezVousForm.get('statutRendezVous')?.touched">
        Statut RendezVous is required.
      </div>
    </div>

    <div>
      <label for="idtache">Tache ID</label>
      <select id="idtache" formControlName="idtache">
        <option value="" disabled>Select a task</option>
        <option *ngFor="let tache of taches" [value]="tache.idtache">{{ tache.nom }}</option> <!-- Assuming 'nom' is the property to display -->
      </select>
      <div *ngIf="rendezVousForm.get('idtache')?.invalid && rendezVousForm.get('idtache')?.touched">
        Tache ID is required.
      </div>
    </div>

    <div *ngIf="isAdmin || isJardinier"> <!-- Affiche le champ seulement si l'utilisateur est admin ou jardinier -->
      <label for="idjardinier">Jardinier ID</label>
      <input id="idjardinier" formControlName="idjardinier" type="number" />
      <div *ngIf="rendezVousForm.get('idjardinier')?.invalid && rendezVousForm.get('idjardinier')?.touched">
        Jardinier ID is required.
      </div>
    </div>

    <button type="submit" [disabled]="rendezVousForm.invalid">
      {{ isEditMode ? 'Update RendezVous' : 'Add RendezVous' }}
    </button>
  </form>
</div>
